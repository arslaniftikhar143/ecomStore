import { useLayoutEffect, useState } from "react";
import { Link, NavLink } from "react-router-dom";
import { AnimatePresence, motion } from "framer-motion";
const variants = {
  open: {
    y: 0,
    opacity: 1,
    transition: {
      duration: 0.3,
      staggerChildren: 0.07,
    },
  },
  closed: {
    y: -50,
    opacity: 0,
    transition: {
      duration: 0.3,
      staggerChildren: 0.05,
    },
  },
};
const menuItemVariants = {
  open: {
    x: 0,
    opacity: 1,
    transition: {
      x: {
        type: "spring",
        stiffness: 1000,
        damping: 100,
      },
    },
  },
  closed: {
    x: -50,
    opacity: 0,
  },
};

const navigationItems = [
  { id: 1, name: "Home", path: "/" },
  { id: 2, name: "Spaces", path: "/" },
  { id: 3, name: "Products & Services", path: "/" },
  { id: 4, name: "Showrooms", path: "/" },
  { id: 5, name: "Company", path: "/" },
  { id: 6, name: "Media", path: "/" },
  { id: 7, name: "CONTACT", path: "/" },
];

export default function () {
  const [isOpen, setIsOpen] = useState(false);
  const toggleIsOpen = () => {
    if (window.innerWidth < 950) {
      setIsOpen(false);
    } else {
      setIsOpen(true);
    }
  };
  useLayoutEffect(() => {
    toggleIsOpen();
    window.addEventListener("resize", toggleIsOpen);

    return () => {
      window.removeEventListener("resize", toggleIsOpen);
    };
  }, []);

  const openIcon = (
    <svg
      className="cursor-pointer"
      stroke="currentColor"
      fill="currentColor"
      stroke-width="0"
      viewBox="0 0 512 512"
      height="20px"
      width="20px"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"></path>
    </svg>
  );
  const closeIcon = (
    <svg
      stroke="currentColor"
      fill="none"
      stroke-width="0"
      viewBox="0 0 15 15"
      height="20px"
      width="20px"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z"
        fill="currentColor"
      ></path>
    </svg>
  );
  return (
    <div className=" bg-white p-4 shadow-sm ">
      <div className="mx-auto flex w-full max-w-[1366px] flex-col items-center justify-between ">
        <button title="Logo" className="mb-4 flex w-full content-center">
          <svg
            className="m-auto h-12 w-24"
            width="162"
            height="57"
            viewBox="0 0 162 57"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M39.0258 42.9522H3.88184C3.3287 42.9522 2.81507 42.8523 2.34095 42.6527C1.86684 42.453 1.45198 42.1834 1.0964 41.8439C0.760563 41.4845 0.493872 41.0652 0.296323 40.5859C0.0987745 40.1067 0 39.5875 0 39.0284V0H7.70441V35.1645H39.0258V42.9522Z"
              fill="#333333"
            />
            <path
              d="M78.6739 32.0194C78.6739 33.3573 78.5059 34.5654 78.1701 35.6437C77.8343 36.702 77.3898 37.6406 76.8367 38.4593C76.2835 39.258 75.6415 39.9469 74.9106 40.526C74.1796 41.0851 73.4092 41.5444 72.5992 41.9038C71.809 42.2633 70.9991 42.5328 70.1694 42.7126C69.3594 42.8723 68.589 42.9522 67.8581 42.9522H53.9605C52.8937 42.9522 51.7282 42.7625 50.4639 42.3831C49.1996 42.0037 48.0241 41.3847 46.9376 40.526C45.8709 39.6474 44.972 38.5192 44.2411 37.1414C43.5299 35.7436 43.1743 34.0363 43.1743 32.0194V21.4761C43.1743 19.4792 43.5299 17.7919 44.2411 16.4141C44.972 15.0163 45.8709 13.8881 46.9376 13.0294C48.0241 12.1508 49.1996 11.5218 50.4639 11.1424C51.7282 10.763 52.8937 10.5733 53.9605 10.5733H67.8581C69.8335 10.5733 71.5127 10.9327 72.8956 11.6516C74.2784 12.3705 75.3945 13.279 76.244 14.3773C77.0935 15.4556 77.7059 16.6337 78.0812 17.9117C78.4763 19.1897 78.6739 20.3778 78.6739 21.4761V32.0194ZM70.9695 21.536C70.9695 20.4577 70.7028 19.659 70.1694 19.1398C69.636 18.6206 68.8656 18.361 67.8581 18.361H54.0198C52.9925 18.361 52.2122 18.6306 51.6788 19.1697C51.1454 19.6889 50.8787 20.4577 50.8787 21.4761V32.0194C50.8787 33.0378 51.1454 33.8166 51.6788 34.3558C52.2122 34.8949 52.9925 35.1645 54.0198 35.1645H67.8581C68.9051 35.1645 69.6854 34.8949 70.199 34.3558C70.7126 33.8166 70.9695 33.0378 70.9695 32.0194V21.536Z"
              fill="#333333"
            />
            <path
              d="M120.1 46.0673C120.1 47.4052 119.932 48.6033 119.596 49.6616C119.26 50.7399 118.816 51.6784 118.263 52.4771C117.71 53.2959 117.067 53.9848 116.337 54.5439C115.606 55.123 114.835 55.5922 114.025 55.9517C113.235 56.3111 112.425 56.5707 111.595 56.7304C110.785 56.9101 110.015 57 109.284 57H95.3865V49.2123H109.284C110.331 49.2123 111.111 48.9427 111.625 48.4036C112.139 47.8644 112.395 47.0857 112.395 46.0673V21.4761C112.395 20.4577 112.139 19.6889 111.625 19.1697C111.111 18.6306 110.331 18.361 109.284 18.361H95.3865C94.4383 18.361 93.6876 18.6605 93.1344 19.2596C92.5813 19.8387 92.3047 20.5775 92.3047 21.4761V32.0194C92.3047 33.0378 92.5714 33.8166 93.1048 34.3558C93.6382 34.8949 94.4185 35.1645 95.4458 35.1645H109.284V42.9522H95.3865C94.6556 42.9522 93.8851 42.8723 93.0752 42.7126C92.2652 42.5328 91.4553 42.2633 90.6453 41.9038C89.8551 41.5444 89.0946 41.0851 88.3636 40.526C87.6327 39.9469 86.9907 39.258 86.4375 38.4593C85.8844 37.6406 85.4399 36.702 85.1041 35.6437C84.7682 34.5654 84.6003 33.3573 84.6003 32.0194V21.4761C84.6003 20.7373 84.6793 19.9585 84.8374 19.1398C85.0152 18.3211 85.2819 17.5124 85.6375 16.7136C85.993 15.8949 86.4474 15.1161 87.0005 14.3773C87.5734 13.6385 88.255 12.9895 89.0452 12.4304C89.8551 11.8713 90.7836 11.422 91.8306 11.0825C92.8776 10.743 94.0629 10.5733 95.3865 10.5733H109.284C110.015 10.5733 110.785 10.6632 111.595 10.8429C112.425 11.0026 113.235 11.2622 114.025 11.6217C114.835 11.9811 115.606 12.4503 116.337 13.0294C117.067 13.5885 117.71 14.2775 118.263 15.0962C118.816 15.8949 119.26 16.8234 119.596 17.8818C119.932 18.9401 120.1 20.1382 120.1 21.4761V46.0673Z"
              fill="#333333"
            />
            <path
              d="M162 32.0194C162 33.3573 161.832 34.5654 161.496 35.6437C161.16 36.702 160.716 37.6406 160.163 38.4593C159.61 39.258 158.968 39.9469 158.237 40.526C157.506 41.0851 156.735 41.5444 155.925 41.9038C155.135 42.2633 154.325 42.5328 153.496 42.7126C152.686 42.8723 151.915 42.9522 151.184 42.9522H137.287C136.22 42.9522 135.054 42.7625 133.79 42.3831C132.526 42.0037 131.35 41.3847 130.264 40.526C129.197 39.6474 128.298 38.5192 127.567 37.1414C126.856 35.7436 126.5 34.0363 126.5 32.0194V21.4761C126.5 19.4792 126.856 17.7919 127.567 16.4141C128.298 15.0163 129.197 13.8881 130.264 13.0294C131.35 12.1508 132.526 11.5218 133.79 11.1424C135.054 10.763 136.22 10.5733 137.287 10.5733H151.184C153.16 10.5733 154.839 10.9327 156.222 11.6516C157.605 12.3705 158.721 13.279 159.57 14.3773C160.42 15.4556 161.032 16.6337 161.407 17.9117C161.802 19.1897 162 20.3778 162 21.4761V32.0194ZM154.296 21.536C154.296 20.4577 154.029 19.659 153.496 19.1398C152.962 18.6206 152.192 18.361 151.184 18.361H137.346C136.319 18.361 135.538 18.6306 135.005 19.1697C134.472 19.6889 134.205 20.4577 134.205 21.4761V32.0194C134.205 33.0378 134.472 33.8166 135.005 34.3558C135.538 34.8949 136.319 35.1645 137.346 35.1645H151.184C152.231 35.1645 153.012 34.8949 153.525 34.3558C154.039 33.8166 154.296 33.0378 154.296 32.0194V21.536Z"
              fill="#333333"
            />
          </svg>
        </button>
        <div className="relative flex w-full justify-between pb-4">
          <button className="menu:hidden" onClick={() => setIsOpen(!isOpen)}>
            {isOpen ? closeIcon : openIcon}
          </button>
          <AnimatePresence>
            {isOpen ? (
              <motion.div
                initial="closed"
                animate="open"
                variants={variants}
                exit={{
                  y: -30,
                  opacity: 0,
                  transition: {
                    duration: 0.3,
                  },
                }}
                className="h-content menu:h-content absolute left-0 top-8 z-10 flex w-full flex-col justify-evenly rounded-lg bg-slate-50 p-4 menu:static  menu:flex-1 menu:flex-row menu:items-center menu:justify-evenly menu:bg-transparent menu:p-0"
              >
                <div className=" hidden w-1/6 justify-start menu:flex menu:justify-start">
                  <button className="ml-2 transition-all duration-300 hover:text-[#979797]">
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 19 19"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12.9473 13.958C11.0766 15.409 8.98176 15.9184 6.67495 15.409C4.90612 15.0218 3.47965 14.0681 2.41184 12.6049C0.202844 9.58082 0.626715 5.43998 3.39814 2.88048C6.031 0.447328 10.2371 0.373967 12.9881 2.66855C15.9429 5.1343 16.5869 9.69901 13.9785 12.931C14.0274 12.984 14.0804 13.041 14.1334 13.094C15.3357 14.2963 16.542 15.4986 17.7403 16.7091C17.8626 16.8314 17.9604 17.0025 18.0011 17.1696C18.0745 17.4835 17.9074 17.7728 17.6343 17.9155C17.3531 18.0622 17.0311 18.0174 16.7907 17.7851C16.4361 17.4386 16.0897 17.0881 15.7432 16.7376C14.8547 15.8532 13.9703 14.9647 13.0818 14.0803C13.0411 14.0396 12.9963 14.0029 12.9473 13.958ZM8.31743 2.41993C5.09768 2.41178 2.45667 5.04056 2.44037 8.27662C2.42407 11.5086 5.061 14.1618 8.29705 14.17C11.5209 14.1781 14.17 11.5493 14.1863 8.32552C14.2026 5.07725 11.5698 2.42808 8.31743 2.41993Z"
                        fill="currentColor"
                        stroke="currentColor"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                      />
                    </svg>
                  </button>
                </div>
                <motion.div
                  initial="closed"
                  animate="open"
                  variants={variants}
                  className=" flex w-3/4 flex-col justify-evenly menu:flex-1 menu:flex-row"
                >
                  {navigationItems.map((item) => {
                    return (
                      <motion.div variants={menuItemVariants} key={item.id}>
                        <NavLink
                          to={item.path}
                          className="mb-2 text-sm font-bold uppercase tracking-widest text-[#0A0A0A] transition-all duration-300 hover:text-[#979797] menu:mb-0"
                        >
                          {item.name}
                        </NavLink>
                      </motion.div>
                    );
                  })}
                </motion.div>
              </motion.div>
            ) : null}
          </AnimatePresence>
          <div className="flex w-1/6 justify-end">
            <Link
              title="Cart"
              to="/cart"
              className="ml-4 transition-all duration-300 hover:text-[#979797]"
            >
              <svg
                width="20"
                height="19"
                viewBox="0 0 20 19"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M19.4806 4.78095C19.2534 5.47045 19.0262 6.15995 18.8029 6.84945C18.2074 8.69464 17.6198 10.5437 17.0282 12.3889C16.8872 12.8277 16.7265 12.9492 16.2682 12.9492C13.4044 12.9492 10.5406 12.9492 7.67687 12.9452C7.51625 12.9452 7.44573 12.9923 7.39872 13.145C7.25769 13.5642 7.10098 13.9795 6.94036 14.4339C7.03438 14.4339 7.10882 14.4339 7.18325 14.4339C10.1959 14.4339 13.2124 14.4339 16.2251 14.4339C16.3034 14.4339 16.3818 14.4339 16.4601 14.4418C16.7305 14.477 16.9185 14.6886 16.9107 14.9393C16.9028 15.1939 16.707 15.4016 16.4406 15.4212C16.2643 15.4329 16.084 15.4251 15.8686 15.4251C16.2486 15.907 16.3975 16.4162 16.276 16.9843C16.182 17.4309 15.943 17.7952 15.5669 18.0577C14.8892 18.5317 14.0156 18.5161 13.3261 17.9049C12.6561 17.3134 12.6013 16.4437 13.185 15.4408C11.9157 15.4408 10.6503 15.4408 9.36144 15.4408C9.76103 15.9775 9.9099 16.5494 9.69052 17.188C9.56124 17.5641 9.32618 17.8658 9.00102 18.0851C8.30369 18.5553 7.3948 18.473 6.77974 17.8775C6.25478 17.3721 5.93745 16.4045 6.67788 15.4251C6.54076 15.4251 6.42716 15.4251 6.30963 15.4251C5.86694 15.4172 5.65146 15.1156 5.79642 14.6964C5.98054 14.1754 6.16859 13.6543 6.35664 13.1372C6.37622 13.0824 6.39189 13.0275 6.4154 12.9492C6.32138 12.9492 6.24303 12.9492 6.16859 12.9492C5.8356 12.9413 5.60838 12.7533 5.54961 12.432C5.34198 11.3155 5.13826 10.199 4.93454 9.08248C4.57804 7.13935 4.21762 5.19622 3.86504 3.24917C3.84545 3.13948 3.79844 3.08855 3.69658 3.04937C2.93656 2.75555 2.17655 2.4539 1.41654 2.15224C1.09921 2.02688 0.946423 1.74481 1.01694 1.45491C1.10705 1.09057 1.46355 0.906442 1.83572 1.04748C2.31367 1.22769 2.7877 1.41965 3.26173 1.60769C3.67699 1.76832 4.08835 1.93677 4.50361 2.09348C4.76609 2.19142 4.91104 2.37554 4.96197 2.64586C5.31456 4.56548 5.66714 6.48903 6.01972 8.40866C6.2156 9.47816 6.41149 10.5477 6.60345 11.6172C6.62304 11.7308 6.67005 11.77 6.79149 11.77C9.80413 11.766 12.8207 11.766 15.8333 11.77C15.9313 11.77 15.9939 11.7543 16.0292 11.6407C16.7069 9.51734 17.3886 7.39791 18.0664 5.27457C18.0703 5.26282 18.0664 5.25107 18.0664 5.21581C17.9332 5.20797 17.8 5.19622 17.6668 5.18838C15.563 5.09828 13.4593 5.01209 11.3555 4.92199C10.0509 4.86714 8.74638 4.80838 7.44182 4.74961C7.06964 4.73394 6.82283 4.4793 6.83459 4.13063C6.84634 3.79372 7.11274 3.55474 7.47707 3.5665C8.06471 3.58608 8.65627 3.61742 9.24391 3.64093C10.5015 3.69578 11.7551 3.75454 13.0126 3.80547C14.9715 3.89166 16.9303 3.97393 18.8891 4.06011C19.2025 4.07187 19.3748 4.25599 19.4806 4.53023C19.4806 4.6125 19.4806 4.69477 19.4806 4.78095ZM14.5483 15.8208C14.1135 15.8168 13.7531 16.1694 13.7492 16.6004C13.7452 17.0313 14.1096 17.3917 14.5405 17.3917C14.9675 17.3917 15.324 17.0431 15.3279 16.616C15.3358 16.1851 14.9832 15.8247 14.5483 15.8208ZM8.80122 16.6043C8.80122 16.1655 8.44864 15.8208 8.00595 15.8208C7.57501 15.8247 7.23026 16.1694 7.22635 16.6004C7.22243 17.0352 7.57501 17.3917 8.01378 17.3956C8.44864 17.3956 8.80122 17.0431 8.80122 16.6043Z"
                  fill="currentColor"
                  stroke="currentColor"
                  stroke-width="0.5"
                  stroke-miterlimit="10"
                />
              </svg>
            </Link>
            <button
              title="Favourites"
              className="ml-4 transition-all duration-300 hover:text-[#979797]"
            >
              <svg
                width="21"
                height="19"
                viewBox="0 0 21 19"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M0.610919 6.42787C0.674502 6.04637 0.711903 5.66113 0.809148 5.28711C1.32155 3.32725 2.46979 1.89476 4.42965 1.27763C6.52416 0.615619 8.34937 1.15047 9.8604 2.74379C10.0399 2.9308 10.197 3.13651 10.3728 3.34596C10.5449 3.14399 10.7019 2.94202 10.8777 2.75127C11.7118 1.85362 12.7067 1.22901 13.9372 1.07192C15.8372 0.828809 17.4642 1.40854 18.7134 2.87095C19.9627 4.33337 20.3292 6.06133 20.0412 7.93891C19.8579 9.12829 19.3156 10.1643 18.605 11.1181C17.6737 12.371 16.5366 13.4258 15.366 14.4468C13.9858 15.6474 12.5945 16.8406 11.2069 18.0337C10.672 18.4937 10.0998 18.5124 9.58737 18.0711C7.77712 16.5002 5.96313 14.9368 4.17532 13.3397C3.26645 12.5319 2.45483 11.6267 1.78534 10.6019C1.15699 9.63321 0.734345 8.5897 0.6371 7.43024C0.63336 7.38536 0.618398 7.34422 0.607178 7.30307C0.610918 7.01134 0.610919 6.7196 0.610919 6.42787ZM10.3691 17.237C10.4177 17.1996 10.4588 17.1697 10.4962 17.136C12.0409 15.8008 13.5931 14.4768 15.1228 13.1303C16.1925 12.1878 17.2099 11.1891 17.9991 9.99227C18.7546 8.85151 19.1248 7.60977 18.9528 6.23338C18.7658 4.74853 18.13 3.518 16.8134 2.74379C15.5866 2.02193 14.2888 1.93216 12.9872 2.56052C12.2167 2.93079 11.6482 3.53297 11.1695 4.23238C11.1021 4.33337 11.0386 4.43809 10.9675 4.53534C10.6533 4.96546 10.0923 4.96172 9.77438 4.53908C9.49761 4.1688 9.24327 3.77608 8.92535 3.43946C7.90428 2.35855 6.6401 1.93965 5.18517 2.25382C3.61429 2.59418 2.582 3.58907 2.06211 5.08514C1.4562 6.82433 1.7442 8.46253 2.74657 9.98853C3.36744 10.9348 4.13044 11.7651 4.96824 12.5169C6.35211 13.7624 7.7659 14.9779 9.16473 16.201C9.56493 16.5488 9.96513 16.8892 10.3691 17.237Z"
                  fill="currentColor"
                  stroke="currentColor"
                  stroke-width="0.5"
                  stroke-miterlimit="10"
                />
              </svg>
            </button>
            <button
              iitle="Account"
              className="ml-4 transition-all duration-300 hover:text-[#979797]"
            >
              <svg
                width="17"
                height="19"
                viewBox="0 0 17 19"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12.1678 9.37421C13.2035 9.96312 13.9955 10.7714 14.5966 11.7746C15.2383 12.8508 15.6242 14.0206 15.7988 15.2512C15.9125 16.0554 15.9491 16.8717 15.9978 17.684C16.0263 18.143 15.7623 18.3907 15.2993 18.3907C10.7991 18.3907 6.29899 18.3907 1.79886 18.3907C1.32772 18.3907 1.07997 18.147 1.08403 17.6718C1.09622 16.0351 1.30335 14.4348 1.92476 12.9077C2.52586 11.4334 3.44782 10.2271 4.84498 9.41482C4.86528 9.40264 4.88559 9.38233 4.9059 9.36609C2.8386 7.18913 3.30161 3.86276 5.34048 2.16506C7.27781 0.544524 10.1127 0.621692 11.9526 2.35189C13.8331 4.11864 14.1417 7.22162 12.1678 9.37421ZM14.7428 17.1438C14.6657 15.5071 14.4098 13.9271 13.5853 12.4934C13.0329 11.5309 12.2694 10.7917 11.2581 10.3084C11.1362 10.2474 11.0469 10.2515 10.925 10.3165C9.32886 11.1613 7.72863 11.1491 6.13653 10.3043C6.03499 10.2515 5.95376 10.2393 5.85223 10.2921C5.06023 10.6698 4.39821 11.2059 3.87834 11.9126C3.1229 12.9361 2.72488 14.1018 2.52586 15.3446C2.43245 15.9335 2.38371 16.5346 2.3106 17.1438C6.47363 17.1438 10.596 17.1438 14.7428 17.1438ZM12.2694 5.97068C12.2694 3.91556 10.6001 2.23817 8.54499 2.23817C6.48988 2.23817 4.81248 3.90744 4.81248 5.96255C4.81248 8.01767 6.48176 9.69507 8.53687 9.69507C10.592 9.69913 12.2694 8.02579 12.2694 5.97068Z"
                  fill="currentColor"
                  stroke="currentColor"
                  stroke-width="0.5"
                  stroke-miterlimit="10"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  );
}
